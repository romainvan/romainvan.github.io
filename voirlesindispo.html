<!doctype html>

<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- Required meta tags -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Liste indisponibilités</title>
  

  <link rel="stylesheet" href="bootstrap-sncf.metier.v4.3.1-r5/bootstrap-sncf.min.css">
  <link rel="stylesheet alternate" href="bootstrap-sncf.metier.v4.3.1-r5/bootstrap-sncf.darkmode.min.css">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" href="jquery.dataTables.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.6.5/css/buttons.dataTables.min.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/searchpanes/1.2.1/css/searchPanes.dataTables.min.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/select/1.3.1/css/select.dataTables.min.css"> 

    <script> 
      $(function(){
        $("#includedContentCofo4").load("navmanager.html"); 
        $("#footercofo3").load("footer.html"); 
      });
    </script> 


</head>

<body class="d-flex flex-column">
    <div id="includedContentCofo4"></div>
    
    <div class="container-fluid flex-grow-1 flex-shrink-0">

        <h1 class="text-center mb-5"> Liste des indisponibilités </h1>
        <div class="row">
            <div class="col-md-12">
                <div class="row mb-2">
                    
                    <div class="col-md-2">
                        <label for="dateDebut" class="ml-1"> Date de début (jj/mm/aaaa) </label>
                          <div data-component="picker" data-enable-time="true">
                              <div class="input-group input-group--flatpickr" data-toggle>
                                <div class="form-control-container">
                                  <input id="dateDebut" type="text" class="form-control whiteinput" placeholder="Date de début" data-input>
                                  <span class="form-control-state"></span>
                                </div>
                                <div class="input-group-append">
                                  <button type="button" class="btn btn-primary btn-only-icon" data-role="btn" tabindex="-1" aria-expanded="false">
                                    <i class="icons-calendar" aria-hidden="true"></i>
                                  </button>
                                </div>
                              </div>
                          </div>
                    </div>
                    <div class="col-md-2">
                        <label for="dateFin" class="ml-1"> Date de fin (jj/mm/aaaa) </label>
                            <div data-component="picker" data-enable-time="true">
                                <div class="input-group" data-toggle>
                                  <div class="form-control-container">
                                    <input id="dateFin" type="text" class="form-control whiteinput" placeholder="Sélectionner la date de fin" data-input>
                                    <span class="form-control-state"></span>
                                  </div>
                                  <div class="input-group-append">
                                    <button type="button" class="btn btn-primary btn-only-icon" data-role="btn" tabindex="-1" aria-expanded="false">
                                      <i class="icons-calendar" aria-hidden="true"></i>
                                    </button>
                                  </div>
                                </div>
                            </div>
                    </div>
    
                   
                    <div class="col-md-2">
                        <label for="formateur"> Formateur </label>
                        <input list="listformateur" type="text" id="formateur" class="whiteinput border-0 form-control" placeholder="Choix formateur">
                        <datalist id="listformateur">
                            <option value="FormateurA">
                            <option value="FormateurB">
                            <option value="FormateurC">
                        </datalist>
                    </div>
                    <div class="col-md-1">
                        <button class="btn btn-success mb-2 btn-block btnvalid"> Valider</button>
                    </div>
                </div>
            </div>

            <div class="col-md-12">
                <div class="table-wrapper mt-3">
                    <table class="table" id="indispo">
                        <thead class="thead bg-secondary">
                            <tr>
                                <th scope="col"> CP Formateur </th>
                                <th scope="col"> Nom  </th>
                                <th scope="col">  Prénom </th>
                                <th scope="col"> Date de début </th>
                                <th scope="col"> Date de fin </th>                               
                                <th scope="col"> Motif </th>
                                <th scope="col"> Observations </th>
                                <th scope="col" class="no-sort"> Modifier </th>  
                                <th scope="col" class="no-sort"> Supprimer </th>                                                            
                            </tr>
                        </thead>

                        <tbody class="tbody">
                            <tr>
                                <td> 0123456A</td>
                                <td> Dupont  </td>
                                <td> Jean </td>
                                <td> 2/08/2021 08h00 </td>
                                <td> 20/08/2021 17h00 </td>
                                <td> En congé </td>
                                <td> </td>
                                <td>
                                    <button class="btn btn-only-icon btn-transparent btn-color-gray favbtn ml-1 mx-0">
                                        <i class="icons-pencil editicon icons-size-1x25" data-toggle="modal" data-target="#ModalDetails" aria-hidden="true"></i>
                                    </button>
                                </td>
                                <td>
                                    <button class="btn btn-only-icon btn-transparent btn-color-gray favbtn ml-1 mx-0" onclick="return confirm('Voulez-vous supprimer cette indisponibilité?')">
                                        <i class="icons-close redicon icons-size-1x25" aria-hidden="true"></i>
                                    </button>
                                </td>
                            </tr>

                            
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div id="ModalDetails" class="modal fade">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content"> <br />
                <div class="modal-body">
                    <h2 class="text-center mb-4"> Modification indisponibilité formateur</h2>
                    <div class="form-group mb-4">
                        <label for="formateur"> Formateur</label>
                        <select class="form-control whiteinput" id="formateur">
                            <option selected> FormateurA </option>
                            <option disabled> FormateurB </option>
                            <option disabled> FormateurC </option>
                        </select>
                    </div>
    
                    <div class="form-row mb-4">
                        <div class="col">
                            <label for="dateDebut" class="ml-1"> Date de début (jj/mm/aaaa) </label>
                            <div data-component="picker" data-default-date="02/08/2021">
                                <div class="input-group" data-toggle>
                                  <div class="form-control-container">
                                    <input id="dateDebut" type="text" class="form-control" placeholder="Sélectionner la date de début" data-input>
                                    <span class="form-control-state"></span>
                                  </div>
                                  <div class="input-group-append">
                                    <button type="button" class="btn btn-primary btn-only-icon" data-role="btn" tabindex="-1" aria-expanded="false">
                                      <i class="icons-calendar" aria-hidden="true"></i>
                                    </button>
                                  </div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <label for="dateFin" class="ml-1"> Date de fin (jj/mm/aaaa) </label>
                            <div data-component="picker" data-default-date="20/08/2021">
                                <div class="input-group" data-toggle>
                                  <div class="form-control-container">
                                    <input id="dateFin" type="text" class="form-control" placeholder="Sélectionner la date de fin" data-input>
                                    <span class="form-control-state"></span>
                                  </div>
                                  <div class="input-group-append">
                                    <button type="button" class="btn btn-primary btn-only-icon" data-role="btn" tabindex="-1" aria-expanded="false">
                                      <i class="icons-calendar" aria-hidden="true"></i>
                                    </button>
                                  </div>
                                </div>
                            </div>
                        </div>
                    </div>
    
                    <div class="form-row mb-4">
                        <div class="col">
                            <label class="font-weight-medium mb-2" for="timepickerExemple">Heure de début</label>
                            <div data-component="picker" data-mode="time" data-increment-hours-on-minutes-max>
                                <div class="input-group" data-toggle>
                                    <div class="form-control-container">
                                    <input id="timepickerExemple" tabindex="-1" type="text" class="form-control" placeholder="Sélectionner une heure" data-input value="08:00">
                                    <span class="form-control-state"></span>
                                    </div>
                                    <div class="input-group-append">
                                        <button type="button" class="btn btn-primary btn-only-icon" data-role="btn" tabindex="-1" aria-expanded="false">
                                          <i class="icons-calendar" aria-hidden="true"></i>
                                        </button>
                                      </div>
                                </div>
                            </div>
                        </div>
    
                        <div class="col">
                            <label class="font-weight-medium mb-2" for="timepickerExemple">Heure de fin</label>
                            <div data-component="picker" data-mode="time" data-increment-hours-on-minutes-max>
                                <div class="input-group" data-toggle>
                                    <div class="form-control-container">
                                    <input id="timepickerExemple" tabindex="-1" type="text" class="form-control" placeholder="Sélectionner une heure" data-input value="17:00">
                                    <span class="form-control-state"></span>
                                    </div>
                                    <div class="input-group-append">
                                        <button type="button" class="btn btn-primary btn-only-icon" data-role="btn" tabindex="-1" aria-expanded="false">
                                          <i class="icons-calendar" aria-hidden="true"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
    
                    <div class="form-group">
                      <label for="motif"> Choix motif </label>
                        <select class="form-control" id="motif">
                            <option data-role="default-hidden-option" disabled>Choix motif </option>
                            <option selected> En congé</option>
                            <option> En double</option>
                            <option> En maladie</option>
                            <option> En coanimation</option>
                            <option> En formation</option>
                            <option> En révisions</option>
                            <option> En réunion</option>
                            <option> Autre</option>
                        </select>
                    </div>
    
                    <div class="form-group">
                        <div class="form-control-container" data-component="control">
                            <label for="countTextarea1">Observations</label>
                            <textarea class="form-control stretchy " id="countTextarea1" placeholder="Remarques, notes..." data-role="input" aria-describedby="charcounter"></textarea>
                            <span class="form-control-state"></span>
                          </div>
                    </div>
    
                    <div class="col-md-2 offset-md-4">
                      <button class="btn btn-warning"> Modifier</button>
                    </div>
    
                </div>
    
            </div>
        </div>
    </div>
    <div id="footercofo3"></div>
    <script src="bootstrap-sncf.metier.v4.3.1-r5/bootstrap-sncf.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js" ></script>
    <script src="https://cdn.datatables.net/buttons/1.6.5/js/dataTables.buttons.min.js" ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js" ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js" ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js" ></script>
    <script src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.html5.min.js" ></script>
    <script src="https://cdn.datatables.net/searchpanes/1.2.1/js/dataTables.searchPanes.min.js"></script>
    <script src="https://cdn.datatables.net/select/1.3.1/js/dataTables.select.min.js"></script>
    <script src="script.js"></script>

    <script>
        $(document).ready(function() {
      var table = $('#indispo').DataTable({
        dom: 'BPfrtip',
        "pagingType": "full_numbers",
        "initComplete": function() {
          $('.dataTables_filter input').addClass('form-control');
        },
        columnDefs:[
            {
                searchPanes:{
                    show: true, // It can be true/false
                },
                targets: [0,1,2,3,4,5,6], // Index of columns (starting at 0) that you want show/hide                
            },
            {
                searchPanes:{
                    show: false, // It can be true/false
                },
                targets: [7,8], // Index of columns (starting at 0) that you want show/hide                
            },
            {
              orderable: false,
              targets: "no-sort"
            }
        ],
        lengthMenu: [
          [10, 25, 50, 100],
          [ '10 ', '25 ', '50 ', '100 ']
        ],
        buttons: [
          //'searchPanes',
            {
              extend : 'pageLength',
              className : 'btn btn-success mt-1 btnnopad',
              
            },
            {
              text: 'Filtres avancés',
              className: 'btn btn-primary btnnopad',
              action: function (e, dt, node, config) {
                  $(".dtsp-panesContainer").toggle()
              },
              init: function( api, node, config) {
                  $(node).removeClass('dt-button')
              }
            },
            {
              extend : 'copyHtml5',
              text : 'Copier',
              copyTitle: 'Données copiées',
              className : 'btn btn-warning btnnopad',
              exportOptions: {
                columns:[0,1,2,3,4,5,6]

                },
                init: function( api, node, config) {
                  $(node).removeClass('dt-button buttons-copy buttons-html5')
              }
            },
            {
              extend : 'excelHtml5',
              className : 'btn btn-success btnnopad',
              title : 'Indisponibiltés formateurs au '+titleFile(),
                filename : function() {
                  return "IndispoFormateur"+dateFile()
                },
              exportOptions: {
                columns:[0,1,2,3,4,5,6]
                },
                init: function( api, node, config) {
                  $(node).removeClass('dt-button buttons-excel buttons-html5')
              }
            },
            {
              extend : 'csvHtml5',
              className : 'btn btn-success btnnopad',
                filename : function() {
                  return "IndispoFormateur"+dateFile()
                },
              exportOptions: {
                columns:[0,1,2,3,4,5,6]

                },
                init: function( api, node, config) {
                  $(node).removeClass('dt-button buttons-csv buttons-html5')
                }

            },
            {
                extend: 'pdfHtml5',
                orientation: 'landscape',
                pageSize : 'LEGAL',
                title : 'Indisponibiltés formateurs au '+titleFile(),
                filename : function() {
                  return "IndispoFormateur"+dateFile()
                },
                exportOptions: {
                    columns:[0,1,2,3,4,5,6]

                },
                customize: function (doc) {
                  doc.content[1].table.widths = 
                      Array(doc.content[1].table.body[0].length + 1).join('*').split('');
                  doc.styles.tableBodyEven.alignment = 'center';
                  doc.styles.tableBodyOdd.alignment = 'center'; 
                },
                className : 'btn btn-primary btnnopad',
                init: function( api, node, config) {
                  $(node).removeClass('dt-button buttons-pdf buttons-html5')
                }
            }
        ],
        "language": {
            "url": "//cdn.datatables.net/plug-ins/1.10.22/i18n/French.json",
            searchPanes: {
                collapse: "Afficher les filtres",
                title : {
                  _: '%d - Filtres sélectionnés',
                  0 : 'Aucun filtres sélectionnés'
                },
                clearMessage : 'Réinitialisé'
            },
            buttons : {
              pageLength: {
                _: "%d éléments par page",
                '-1': "Tout afficher"
              },
              copy: 'Copier',
            copySuccess: {
                1: "Copie d'une ligne",
                _: "Copie de %d lignes"
            },
            copyTitle: 'Données copiées',
            copyKeys: 'Press <i>ctrl</i> or <i>\u2318</i> + <i>C</i> to copy the table data<br>to your system clipboard.<br><br>To cancel, click this message or press escape.'

            ,
       
            },
        }
      });
      $('#indispo thead th').addClass('text-white');
      })
    </script>
</body>
</html>