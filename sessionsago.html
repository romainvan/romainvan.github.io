<!doctype html>

<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- Required meta tags -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title> Liste des sessions FC </title>
  

  <link rel="stylesheet" href="bootstrap-sncf.metier.v4.3.1-r5/bootstrap-sncf.min.css">
  <link rel="stylesheet alternate" href="bootstrap-sncf.metier.v4.3.1-r5/bootstrap-sncf.darkmode.min.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="stylecheckago.css">
  <link rel="stylesheet" type="text/css" href="jquery.dataTables.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.6.5/css/buttons.dataTables.min.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/searchpanes/1.2.1/css/searchPanes.dataTables.min.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/select/1.3.1/css/select.dataTables.min.css"> 
</head>

<body class="d-flex flex-column">
    <div id="includedContentAgo3"></div>
    
        <div class="container-fluid flex-grow-1 flex-shrink-0">
        <h1 class="text-center"> Sessions formation continue campus de Nanterre  </h1>
        <div class="row">
          <div class="col-md-2 mb-2">
            <label for="dateDebut" class="ml-1"> Date de début (jj/mm/aaaa) </label>
              <div data-component="picker">
                  <div class="input-group" data-toggle>
                    <div class="form-control-container">
                      <input id="dateDebut" type="text" class="form-control whiteinput" placeholder="Date début" data-input>
                      <span class="form-control-state"></span>
                    </div>
                    <div class="input-group-append">
                      <button type="button" class="btn btn-primary btn-only-icon" data-role="btn" tabindex="-1" aria-expanded="false">
                        <i class="icons-calendar" aria-hidden="true"></i>
                      </button>
                    </div>
                  </div>
              </div>
          </div>          
          <div class="col-md-2">
            <label for="dateFin" class="ml-1"> Date de fin (jj/mm/aaaa) </label>
                <div data-component="picker">
                    <div class="input-group" data-toggle>
                      <div class="form-control-container">
                        <input id="dateFin" type="text" class="form-control whiteinput" placeholder="Date de fin" data-input>
                        <span class="form-control-state"></span>
                      </div>
                      <div class="input-group-append">
                        <button type="button" class="btn btn-primary btn-only-icon" data-role="btn" tabindex="-1" aria-expanded="false">
                          <i class="icons-calendar" aria-hidden="true"></i>
                        </button>
                      </div>
                    </div>
                </div>
            </div>
                    <div class="col-md-2">
            <label for="metier" class="ml-2"> Métier </label>
              <input list="metier" type="text" id="inputmetier" class="form-control whiteinput" placeholder="Métier">
              <datalist id="metier">
                <option value="Voie">
                <option value="Produit Train">
                <option value="Caténaire">
                <option value="Circulation">
                <option value="Signalisation">
                <option value="Tout">
              </datalist>
          </div>
          
          <div class="col-md-2">
            <label for="raf" class="ml-2"> Code RAF </label>
              <input list="raf" type="text" id="inputraf" class="form-control whiteinput" placeholder="Code RAF">
              <datalist id="raf">
                  <option value="VA600600">
                  <option value="VA600700">
                  <option value="VALG0800">
                  <option value="VALIGE24">
                  <option value="VGE14600">
              </datalist>
          </div>
          <div class="col-md-2">
            <label for="session" class="ml-2"> Code Session </label>
              <input list="session" type="text" id="inputsession" class="form-control whiteinput" placeholder="Code Session">
              <datalist id="session">
                  <option value="NVE0000047">
                  <option value="NVS0000369">
                  <option value="NVT000146">
                  <option value="NVV0000861">
                  <option value="NVV0000034">
              </datalist>
          </div>
          
          
            <div class="col-md-1">
              <button class="btn btn-success btn-block btnvalid "> Valider </button>
            </div>
            <div class="col-md-12 mb-5">
                <div class="table-wrapper">
                    <div class="table-scroller last-cell-fixed dragscroll">
                      <table class="table display" id="sessionsago">
                        <thead class="thead bg-secondary">
                          <tr>
                            <th scope="col">Code RAF</th>
                            <th scope="col">Libellé code RAF</th>
                            <th scope="col">Code Session</th>
                            <th scope="col">Métier</th>
                            <th scope="col">Lieu</th>
                            <th scope="col">Date de début</th>
                            <th scope="col">Date de fin</th>
                            <th scope="col">Nombre d'inscrits </th>
                            <th scope="col">Groupe </th>
                            <th scope="col">Repositionnement <br/> renseigné </th>
                            <th scope="col">Commentaire </th>
                            <th scope="col">Clôturée </th>
                            <th class="no-sort" scope="col">Détails </th>
                            <th class="no-sort" scope="col">Actions </th>
                          </tr>
                        </thead>
                        <tbody class="tbody">
                          <tr>
                            
                            <td> VT160000</td>
                            <td> Réseaux IP et applicatifs SNCF</td>
                            <td> NVT000146</td>
                            <td> Signalisation</td>
                            <td> Nanterre</td>
                            <td> 21/06/2021</td>
                            <td> 25/06/2021</td>
                            <td> 10/16</td>
                            <td> Continue </td>
                            <td>
                              <p class="d-none"> oui </p>
                              <i class="icons-checked icons-size-1x25 greenicon" aria-hidden="true" onclick="changeicon('4')" id="icon4"></i>

                            </td>
                            <td> 
                              <p class="d-none"> oui </p>
                              <i class="icons-checked icons-size-1x25 greenicon" aria-hidden="true" onclick="changeicon('14')" id="icon14"></i>

                            </td>
                            <td> 
                              <p class="d-none"> non </p>
                              <i class="icons-close icons-size-1x25 redicon" aria-hidden="true" onclick="changeicon('24')" id="icon24"></i>
                            </td>
                            <td>
                              <button class="btn btn-only-icon btn-transparent btn-color-gray favbtn ml-1">
                                <i class="icons-circle-information icons-size-1x25" data-toggle="modal" data-target="#ModalDetails" aria-hidden="true"></i>
                              </button>
                            </td>
                            <td>
                              <div class="btn-group dropdown">
                                <button class="btn btn-only-icon btn-transparent btn-color-gray" id="btnDrop0" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-controls="toggle1">
                                  <span class="sr-only">Actions</span>
                                  <i class="icons-options icons-size-1x25" aria-hidden="true"></i>
                                </button>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="btnDrop0" id="toggle1">
                                  <a type="button" class="dropdown-item" href="modifsession.html" target="blank" >Ajouter commentaire</a>
                                  <a type="button" class="dropdown-item" href="stagiairesAgo.html" target="blank" >Voir les agents inscrits et à repositionner </a>
                                  <a type="button" class="dropdown-item" href="formateurago1.html" target="blank" >Voir les formateurs</a>
                                </div>
                              </div>
                            </td>
                           
                          </tr>
                          <tr>
                            
                            <td> VE200200</td>
                            <td> Protections MICOM P12x</td>
                            <td> NVE0000047</td>
                            <td> Caténaire</td>
                            <td> Nanterre</td>
                            <td> 23/06/2021</td>
                            <td> 25/06/2021</td>
                            <td> 7/12</td>
                            <td> Continue </td>
                            <td> 
                              <p class="d-none"> non </p>
                              <i class="icons-close icons-size-1x25 redicon" aria-hidden="true" onclick="changeicon('3')" id="icon3"></i>
                            </td>
                            <td> 
                              <p class="d-none"> oui </p>
                              <i class="icons-checked icons-size-1x25 greenicon" aria-hidden="true" onclick="changeicon('13')" id="icon13"></i>

                            </td>
                            <td> 
                              <p class="d-none"> non </p>
                              <i class="icons-close icons-size-1x25 redicon" aria-hidden="true" onclick="changeicon('23')" id="icon23"></i>
                            </td>
                            <td>
                              <button class="btn btn-only-icon btn-transparent btn-color-gray favbtn ml-1">
                                <i class="icons-circle-information icons-size-1x25" data-toggle="modal" data-target="#ModalDetails"aria-hidden="true"></i>
                              </button>
                            </td>
                            <td>
                              <div class="btn-group dropdown">
                                <button class="btn btn-only-icon btn-transparent btn-color-gray" id="btnDrop1" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-controls="toggle10">
                                  <span class="sr-only">Actions</span>
                                  <i class="icons-options icons-size-1x25" aria-hidden="true"></i>
                                </button>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="btnDrop1" id="toggle10">
                                  <a type="button" class="dropdown-item" href="modifsession2.html" target="blank">Ajouter commentaire</a>
                                  <a type="button" class="dropdown-item" href="stagiairesAgo2.html" target="blank">Voir les agents inscrits et à repositionner</a>
                                  <a type="button" class="dropdown-item" href="formateurago.html" target="blank">Voir les formateurs</a>
                                </div>
                              </div>
                            </td>
                           
                          </tr>

                        
                          <tr>
                            
                            <td> VVI12000TS</td>
                            <td> Agent PN en travaux TS</td>
                            <td> NVV0000861</td>
                            <td> Voie</td>
                            <td> Nanterre</td>
                            <td> 15/06/2021</td>
                            <td> 16/06/2021</td>
                            <td> 10/12</td>
                            <td> Continue </td>
                            <td>
                              <p class="d-none"> non </p>
                              <i class="icons-close icons-size-1x25 redicon" aria-hidden="true" onclick="changeicon('2')" id="icon2"></i>

                            </td>
                            <td>
                              <p class="d-none"> oui </p>
                              <i class="icons-checked icons-size-1x25 greenicon" aria-hidden="true" onclick="changeicon('12')" id="icon12"></i>

                            </td>
                            <td> 
                              <p class="d-none"> non </p>
                              <i class="icons-close icons-size-1x25 redicon" aria-hidden="true" onclick="changeicon('22')" id="icon22"></i>
                            </td>
                            <td>
                              <button class="btn btn-only-icon btn-transparent btn-color-gray favbtn ml-1">
                                <i class="icons-circle-information icons-size-1x25" ></i>
                              </button>
                            </td>
                            <td>
                              <div class="btn-group dropdown">
                                <button class="btn btn-only-icon btn-transparent btn-color-gray" id="btnDrop3" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-controls="toggle12">
                                  <span class="sr-only">Actions</span>
                                  <i class="icons-options icons-size-1x25" aria-hidden="true"></i>
                                </button>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="btnDrop3" id="toggle12">
                                  <a type="button" class="dropdown-item">Ajouter commentaire</a>
                                  <a type="button" class="dropdown-item">Voir les agents inscrits et à repositionner</a>
                                  <a type="button" class="dropdown-item">Voir les formateurs</a>

                                </div>
                              </div>
                            </td>
                           
                          </tr>

                          <tr>
                            
                            <td> VVTESC03</td>
                            <td> TES C - Avec TTx</td>
                            <td> NVV0000034</td>
                            <td> Voie</td>
                            <td> Nanterre</td>
                            <td> 21/06/2021</td>
                            <td> 30/06/2021</td>
                            <td> 10/10</td>
                            <td> Continue </td>
                            <td>
                              <p class="d-none"> oui </p>
                              <i class="icons-checked icons-size-1x25 greenicon" aria-hidden="true" onclick="changeicon('1')" id="icon1"></i>

                            </td>
                            <td>
                              <p class="d-none"> oui </p>
                              <i class="icons-checked icons-size-1x25 greenicon" aria-hidden="true" onclick="changeicon('11')" id="icon11"></i>

                            </td>
                            <td> 
                              <p class="d-none"> non </p>
                              <i class="icons-close icons-size-1x25 redicon" aria-hidden="true" onclick="changeicon('21')" id="icon21"></i>
                            </td>
                            <td>
                              <button class="btn btn-only-icon btn-transparent btn-color-gray favbtn ml-1">
                                <i class="icons-circle-information icons-size-1x25" data-toggle="modal" data-target="#ModalDemande2"aria-hidden="true"></i>
                              </button>
                            </td>
                            <td>
                              <div class="btn-group dropdown">
                                <button class="btn btn-only-icon btn-transparent btn-color-gray" id="btnDrop4" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-controls="toggle13">
                                  <span class="sr-only">Actions</span>
                                  <i class="icons-options icons-size-1x25" aria-hidden="true"></i>
                                </button>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="btnDrop4" id="toggle13">
                                  <a type="button" class="dropdown-item">Ajoyter commentaire</a>
                                  <a type="button" class="dropdown-item">Voir les agents inscrits et à repositionner</a>
                                  <a type="button" class="dropdown-item">Voir les formateurs</a>
                                </div>
                              </div>
                            </td>
                          </tr>

                         
                        </tbody>
                      </table>
                    </div>
                  </div>
            </div>
        </div>        
    </div>


    <div id="ModalDetails" class="modal fade">
      <div class="modal-dialog modal-dialog-centered modal-lg">
          <div class="modal-content"> <br />
              <div class="modal-body">
                  <div class="row">
                    <div class="col-md-12">
                      
                      <h2 class="text-center my-4"> Liste des inscrits sur la session <strong> NVT000146 </strong> </h2>

                      <ul>
                        <li>  Martin Jean	- 1234567A	</li>
                        <li>  Dupont Martin	- 8912345B	</li>
                        <li>  Ponc Nicolas - 6789123C	</li>
                        <li>  Galtier Christopher- 9602652N	</li>
                        <li>  Voli Andrea- 9802250T	</li>
                        <li>  Fineur Lisa - 9501112P </li>
                        <li>  Dos Santos - 9102652N </li>
                      </ul>

                      <h2 class="text-center my-4"> Suivi des inscrits pour la session <strong> NVT000146 </strong> par établissement </h2>

                      <ul>
                        <li> Infrapôle Lorraine  : <strong class="text-danger"> 1/3 </strong></li>
                        <li> Infralog National : 1/1</li>
                        <li> Infrapôle Rhodanien : <strong class="text-danger"> 1/2 </strong></li>
                        <li> Infrapôle Paris Sud Est : 3/3</li>
                        <li> Infrapôle Paris Nord : 1/1</li>
                        <li> Infrapôle Alpes : <strong class="text-danger"> 0/1 </strong></li>
                        <li> Infrapôle Pays de la Loire  : <strong class="text-danger"> 0/1</strong></li>
                      </ul>

                        
                    </div>
                  </div>                           
              </div>
  
          </div>
      </div>
    </div>

    <div id="footerago4"></div>
    <script src="bootstrap-sncf.metier.v4.3.1-r5/bootstrap-sncf.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js" ></script>
    <script src="https://cdn.datatables.net/buttons/1.6.5/js/dataTables.buttons.min.js" ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js" ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js" ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js" ></script>
    <script src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.html5.min.js" ></script>
    <script src="https://cdn.datatables.net/searchpanes/1.2.1/js/dataTables.searchPanes.min.js"></script>
    <script src="https://cdn.datatables.net/select/1.3.1/js/dataTables.select.min.js"></script>
    <script src="script.js"> </script>
    <script> 
      $(function(){
        $("#includedContentAgo3").load("navago.html"); 
        $("#footerago4").load("footer.html"); 
      });

      $(document).ready(function() {
      var table = $('#sessionsago').DataTable({
        dom: 'BPfrtip',
        "pagingType": "full_numbers",
        "initComplete": function() {
          $('.dataTables_filter input').addClass('form-control');
        },
        columnDefs:[
            {
                searchPanes:{
                    show: true, // It can be true/false
                },
                targets: [0,1,2,3,4,5,6], // Index of columns (starting at 0) that you want show/hide                
            },
            {
                searchPanes:{
                    show: false, // It can be true/false
                },
                targets: [9], // Index of columns (starting at 0) that you want show/hide                
            },
            {
      orderable: false,
      targets: "no-sort"
    }
        ],
        lengthMenu: [
          [10, 25, 50, 100],
          [ '10 ', '25 ', '50 ', '100 ']
        ],
        buttons: [
          //'searchPanes',
            {
              extend : 'pageLength',
              className : 'btn btn-success mt-1 btnnopad',
              
            },
            {
              text: 'Filtres avancés',
              className: 'btn btn-primary btnnopad',
              action: function (e, dt, node, config) {
                  $(".dtsp-panesContainer").toggle()
              },
              init: function( api, node, config) {
                  $(node).removeClass('dt-button')
              }
            },
            {
              extend : 'copyHtml5',
              text : 'Copier',
              copyTitle: 'Données copiées',
              className : 'btn btn-warning btnnopad',
              exportOptions: {
                  columns: [ 0,1,2,3,4,5,6,7]
                },
                init: function( api, node, config) {
                  $(node).removeClass('dt-button buttons-copy buttons-html5')
              }
            },
            {
              extend : 'excelHtml5',
              className : 'btn btn-success btnnopad',
              title : 'Export sessions formations continues du '+titleFile(),
              filename : function() {
                return "Export_SessionsFC_"+dateFile()
              },
              exportOptions: {
                columns: [ 0,1,2,3,4,5,6,7,8,9,10,11]
                },
                init: function( api, node, config) {
                  $(node).removeClass('dt-button buttons-excel buttons-html5')
              },
              customize: function (xlsx) {
                var sheet = xlsx.xl.worksheets['sheet1.xml'];
                $('row c[r^="J"]', sheet).each( function () {
                  if($('is t', this).text() == 'oui'){
                    $(this).attr( 's', '15' );
                  }
                  else if($('is t', this).text() == 'non'){
                    $(this).attr( 's', '10' );
                  }
                });
                $('row c[r^="K"]', sheet).each( function () {
                  if($('is t', this).text() == 'oui'){
                    $(this).attr( 's', '15' );
                  }
                  else if($('is t', this).text() == 'non'){
                    $(this).attr( 's', '10' );
                  }
                });
                $('row c[r^="L"]', sheet).each( function () {
                  if($('is t', this).text() == 'oui'){
                    $(this).attr( 's', '15' );
                  }
                  else if($('is t', this).text() == 'non'){
                    $(this).attr( 's', '10' );
                  }
                });
              }
            },
            {
              extend : 'csvHtml5',
              className : 'btn btn-success btnnopad',
              filename : function() {
                return "Export_SessionsFC_"+dateFile()
              },
              exportOptions: {
                columns: [ 0,1,2,3,4,5,6,7]
                },
                init: function( api, node, config) {
                  $(node).removeClass('dt-button buttons-csv buttons-html5')
                }

            },
            {
                extend: 'pdfHtml5',
                orientation: 'landscape',
                pageSize : 'A3',
                title : 'Export sessions formations continues du '+titleFile(),
                filename : function() {
                  return "Export_SessionsFC_"+dateFile()
                },
                exportOptions: {
                  columns: [ 0,1,2,3,4,5,6,7,8,9,10,11]
                },
                customize: function (doc) {

                  statut = doc.content[1].table.body
                 
                  for (var i = 1; i < statut.length; i++) {
                    if (statut[i][9].text ==="oui" ) {
                      doc.content[1].table.body[i][9].fillColor = '#008000';
                    }
                    if (statut[i][9].text==="non") {
                      doc.content[1].table.body[i][9].fillColor = '#cd0037';
                    }
                    if (statut[i][10].text ==="oui" ) {
                      doc.content[1].table.body[i][10].fillColor = '#008000';
                    }
                    if (statut[i][10].text==="non") {
                      doc.content[1].table.body[i][10].fillColor = '#cd0037';
                    }
                    if (statut[i][11].text ==="oui" ) {
                      doc.content[1].table.body[i][11].fillColor = '#008000';
                    }
                    if (statut[i][11].text==="non") {
                      doc.content[1].table.body[i][11].fillColor = '#cd0037';
                    }
                   
                  }


                  doc.content[1].table.widths = 
                      Array(doc.content[1].table.body[0].length + 1).join('*').split('');
                  doc.styles.tableBodyEven.alignment = 'center';
                  doc.styles.tableBodyOdd.alignment = 'center'; 
                },
                className : 'btn btn-primary btnnopad',
                init: function( api, node, config) {
                  $(node).removeClass('dt-button buttons-pdf buttons-html5')
                }
            }
        ],
        "language": {
            "url": "//cdn.datatables.net/plug-ins/1.10.22/i18n/French.json",
            searchPanes: {
                collapse: "Afficher les filtres",
                title : {
                  _: '%d - Filtres sélectionnés',
                  0 : 'Aucun filtres sélectionnés'
                },
                clearMessage : 'Réinitialisé'
            },
            buttons : {
              pageLength: {
                _: "%d éléments par page",
                '-1': "Tout afficher"
              },
              copy: 'Copier',
            copySuccess: {
                1: "Copie d'une ligne",
                _: "Copie de %d lignes"
            },
            copyTitle: 'Données copiées',
            copyKeys: 'Press <i>ctrl</i> or <i>\u2318</i> + <i>C</i> to copy the table data<br>to your system clipboard.<br><br>To cancel, click this message or press escape.'

            ,
       
            },
        }
      });
      $('#sessionsago thead th').addClass('text-white');
      })

      function changeicon(x){
        var elt = document.getElementById("icon"+x);
        if(elt.className.includes("check")){
          elt.classList.remove("icons-checked");
          elt.classList.remove("greenicon");
          elt.classList.add("icons-close");
          elt.classList.add("redicon");

        }
        else{
          elt.classList.add("icons-checked");
          elt.classList.add("greenicon");
          elt.classList.remove("icons-close");
          elt.classList.remove("redicon");
        }
      }

    </script> 
</body>
</html>
