<!doctype html>

<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- Required meta tags -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Liste des sessions</title>
  <link rel="stylesheet" href="bootstrap-sncf.metier.v4.3.1-r5/bootstrap-sncf.min.css">
  <link rel="stylesheet alternate" href="bootstrap-sncf.metier.v4.3.1-r5/bootstrap-sncf.darkmode.min.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="suivigroupe.css">
  <link rel="stylesheet" type="text/css" href="jquery.dataTables.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.6.5/css/buttons.dataTables.min.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/searchpanes/1.2.1/css/searchPanes.dataTables.min.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/select/1.3.1/css/select.dataTables.min.css"> 

</head>

<body class="d-flex flex-column">
    <div id="includedContentAC7"></div>
    
        <div class="container-fluid flex-grow-1 flex-shrink-0">
        <h1 class="text-center mb-2"> Liste des sessions </h1>
        <div class="row">

            <div class="col-md-12">
                <div class="row mb-2">
                  <div class="col-md-2 mb-2">
                  
                    <label for="date" class="font-weight-medium mb-2">Date début</label>
                    <div data-component="picker">
                      <div class="input-group" data-toggle>
                        <div class="form-control-container">
                          <input id="date" type="text" class="form-control whiteinput" placeholder="Sélectionner une date" data-input>
                          <span class="form-control-state"></span>
                        </div>
                        <div class="input-group-append">
                          <button type="button" class="btn btn-primary btn-only-icon" data-role="btn" tabindex="-1" aria-expanded="false">
                            <i class="icons-calendar" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                    </div>
  
                  </div>
  
                  <div class="col-md-2 mb-2">
                    
                    <label for="date" class="font-weight-medium mb-2">Date de fin</label>
                    <div data-component="picker">
                      <div class="input-group" data-toggle>
                        <div class="form-control-container">
                          <input id="date" type="text" class="form-control whiteinput" placeholder="Sélectionner une date" data-input>
                          <span class="form-control-state"></span>
                        </div>
                        <div class="input-group-append">
                          <button type="button" class="btn btn-primary btn-only-icon" data-role="btn" tabindex="-1" aria-expanded="false">
                            <i class="icons-calendar" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                    </div>
  
                  </div>
  
                  <div class="col-md-2">
  
                    <label for="etab" class="ml-1"> Métier</label>
                    <input list="etab" type="text" id="cpagentinput" name="etab" class="whiteinput border-0 form-control" placeholder="Choix du métier">
                    <datalist id="etab">
                        <option data-value="Voie"> Voie</option>
                        <option data-value="Circulation"> Circulation </option>
                        <option data-value="Signalisation"> Signalisation </option>
                        <option data-value="Caténaire"> Caténaire </option>

                    </datalist>
  
                  </div>

                  <div class="col-md-2">
  
                    <label for="raf" class="ml-1"> Code RAF</label>
                    <input list="raf" type="text" id="cpagentinput" name="etab" class="whiteinput border-0 form-control" placeholder="Code RAF">
                    <datalist id="raf">
                        <option data-value="EC110300"> EC110300</option>
                        <option data-value="EC140100"> EC140100	 </option>
                        <option data-value="VA620600"> VA620600	 </option>
                        <option data-value="VA670701"> VA670701	 </option>
                        <option data-value="VJCM0202"> VJCM0202	 </option>
                        <option data-value="VT160000"> VT160000	 </option>
                        <option data-value="VVTESM03"> VVTESM03	 </option>


                    </datalist>
  
                  </div>

                  <div class="col-md-2">
                    <label for="groupe" class="ml-2"> Groupe </label>
                      <input list="listgroupe" type="text" id="groupe" class="form-control whiteinput" placeholder="Groupe">
                      <datalist id="listgroupe">
                        <option value="Continue">
                        <option value="JCVB_22-01">
                        <option value="LY AMV5 01/22 OP">
                      </datalist>
                  </div>
                  <div class="col-md-1">
                      <button class="btn btn-success mb-2 btn-block btnvalid"> Valider</button>
                  </div>
                </div>
                <div class="table-wrapper">
                    <div class="table-scroller last-cell-fixed dragscroll">
                      <table class="table display mb-5" id="sessionscofo">
                        <thead class="thead bg-secondary">
                          <tr>
                            <th scope="col">Code RAF</th>
                            <th scope="col">Libellé de l'action</th>
                            <th scope="col">Code Session</th>
                            <th scope="col">Lieu</th>
                            <th scope="col">Date de début</th>
                            <th scope="col">Date de fin</th>
                            <th scope="col">Métier</th>
                            <th scope="col">Mes inscrits</th>
                            <th scope="col">Groupe</th>
                            <th scope="col"> Places en attente</th>
                            <th scope="col"> Typologie</th>
                            <th scope="col"> Commentaire</th>
                            <th scope="col" class="no-sort"> Actions </th>
                          </tr>
                        </thead>
                        <tbody class="tbody">
                          <tr>
                            <td> VT160000</td>
                            <td> Réseaux IP et applicatifs SNCF</td>
                            <td> NVT000146</td>
                            <td> Saint-Priest</td>
                            <td> 21/06/2021</td>
                            <td> 25/06/2021</td>
                            <td> Voie</td>
                            <td> 1/1</td>
                            <td> Continue</td>
                            <td> 0 </td>
                            <td> Continue</td>
                            <td> 
                              <i class="icons-checked icons-size-1x25 greenicon" aria-hidden="true" onclick="changeicon('12')" id="icon12"></i>

                          </td>
                            <td>
                              <div class="btn-group dropdown">
                                <button class="btn btn-only-icon btn-transparent btn-color-gray"  id="btncofo" aria-controls="toggle1" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                  <span class="sr-only">Actions</span>
                                  <i class="icons-options icons-size-1x25" aria-hidden="true"></i>
                                </button>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="btncofo" id="toggle1">
                                  <button type="button" class="dropdown-item">Plus de détails</button>
                                  <button type="button" class="dropdown-item">Voir la liste des inscrits</button>
                                  <button type="button" class="dropdown-item">Commentaire convocation</button>
                                </div>
                              </div>
                            </td>
                          </tr>
                          <tr>
                            <td> VA620600</td>
                            <td> Accès à E - UV6 Technique, maintenance et agrément - Engins</td>
                            <td> NVT0000151</td>
                            <td> Nanterre</td>
                            <td> 28/06/2021</td>
                            <td> 29/06/2021</td>
                            <td> Signalisation</td>
                            <td> 1/2</td>
                            <td> Continue</td>
                            <td> 2 </td>
                            <td> Continue</td>
                            <td> 
                              <i class="icons-checked icons-size-1x25 greenicon" aria-hidden="true" onclick="changeicon('13')" id="icon13"></i>

                          </td>
                            <td>
                              <div class="btn-group dropdown align-right">
                                <button class="btn btn-only-icon btn-transparent btn-color-gray" id="btncofo1" aria-controls="toggle2" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                  <span class="sr-only">Actions</span>
                                  <i class="icons-options icons-size-1x25" aria-hidden="true"></i>
                                </button>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="btncofo1" id="toggle2">
                                  <button type="button" class="dropdown-item" onclick="seeDetails()">Plus de détails</button>
                                  <button type="button" class="dropdown-item" onclick="seeStagiaires()">Voir la liste des inscrits</button>
                                  <button type="button" class="dropdown-item" onclick="addComment()">Commentaire convocation</button>
                                </div>
                              </div>
                            </td>
                          </tr>

                          <tr>
                            <td> VA670701</td>
                            <td> Technique travaux Caténaire KV CAT MOETX</td>
                            <td> NVT0000245</td>
                            <td> Bègles</td>
                            <td> 15/06/2021</td>
                            <td> 17/06/2021</td>
                            <td> Caténaire</td>
                            <td> 2/3</td>
                            <td> Continue</td>
                            <td> 1 </td>
                            <td> Continue</td>
                            <td> 
                              <i class="icons-checked icons-size-1x25 greenicon" aria-hidden="true" onclick="changeicon('14')" id="icon14"></i>

                          </td>
                            <td>
                              <div class="btn-group dropdown">
                                <button class="btn btn-only-icon btn-transparent btn-color-gray"  id="btncofo" aria-controls="toggle1" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                  <span class="sr-only">Actions</span>
                                  <i class="icons-options icons-size-1x25" aria-hidden="true"></i>
                                </button>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="btncofo" id="toggle1">
                                  <button type="button" class="dropdown-item">Plus de détails</button>
                                  <button type="button" class="dropdown-item">Voir la liste des inscrits</button>
                                  <button type="button" class="dropdown-item">Commentaire convocation</button>
                                </div>
                              </div>
                            </td>
                          </tr>

                          <tr>
                            <td> VJCM0202</td>
                            <td> RCS de circulation des trains et d'exploitation </td>
                            <td> NVT000347</td>
                            <td> Bègles</td>
                            <td> 15/01/2022</td>
                            <td> 19/01/2022</td>
                            <td> Signalisation</td>
                            <td> 2/2</td>
                            <td> JCVB_22-01	</td>
                            <td> 1 </td>
                            <td> Initiale</td>
                            <td> 
                              <i class="icons-close icons-size-1x25 redicon" aria-hidden="true" onclick="changeicon('15')" id="icon15"></i>

                          </td>
                            <td>
                              <div class="btn-group dropdown">
                                <button class="btn btn-only-icon btn-transparent btn-color-gray"  id="btncofo" aria-controls="toggle1" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                  <span class="sr-only">Actions</span>
                                  <i class="icons-options icons-size-1x25" aria-hidden="true"></i>
                                </button>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="btncofo" id="toggle1">
                                  <button type="button" class="dropdown-item">Plus de détails</button>
                                  <button type="button" class="dropdown-item">Voir la liste des inscrits</button>
                                  <button type="button" class="dropdown-item">Commentaire convocation</button>
                                </div>
                              </div>
                            </td>
                          </tr>
                          <tr>
                            <td> VVTESM03</td>
                            <td> TES M Annonceur Sentinelle ASP - LC
                            </td>
                            <td> NVT0000358</td>
                            <td> Nanterre</td>
                            <td> 01/02/2022</td>
                            <td> 05/02/2022</td>
                            <td> Voie</td>
                            <td> 2/2</td>
                            <td> JCVB_22-01</td>
                            <td> 0 </td>
                            <td> Initiale</td>
                            <td> 
                              <i class="icons-close icons-size-1x25 redicon" aria-hidden="true" onclick="changeicon('16')" id="icon16"></i>

                          </td>
                            <td>
                              <div class="btn-group dropdown align-right">
                                <button class="btn btn-only-icon btn-transparent btn-color-gray" id="btncofo1" aria-controls="toggle2" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                  <span class="sr-only">Actions</span>
                                  <i class="icons-options icons-size-1x25" aria-hidden="true"></i>
                                </button>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="btncofo1" id="toggle2">
                                  <button type="button" class="dropdown-item" onclick="seeDetails()">Plus de détails</button>
                                  <button type="button" class="dropdown-item" onclick="seeStagiaires()">Voir la liste des inscrits</button>
                                  <button type="button" class="dropdown-item">Commentaire convocation</button>
                                </div>
                              </div>
                            </td>
                          </tr>

                          <tr>
                            <td> EC110300</td>
                            <td> Formation de base AMV - ATT/OP - ATT-TS
                            </td>
                            <td> NVT0000724</td>
                            <td> Saint-Priest	</td>
                            <td> 05/01/2022</td>
                            <td> 09/01/2021</td>
                            <td> Circulation</td>
                            <td> 2/2</td>
                            <td> LY AMV5 01/22 OP	</td>
                            <td> 2</td>
                            <td> Initiale</td>
                            <td> 
                              <i class="icons-checked icons-size-1x25 greenicon" aria-hidden="true" onclick="changeicon('17')" id="icon17"></i>

                          </td>
                            <td>
                              <div class="btn-group dropdown">
                                <button class="btn btn-only-icon btn-transparent btn-color-gray"  id="btncofo" aria-controls="toggle1" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                  <span class="sr-only">Actions</span>
                                  <i class="icons-options icons-size-1x25" aria-hidden="true"></i>
                                </button>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="btncofo1" id="toggle2">
                                  <button type="button" class="dropdown-item" onclick="seeDetailsfi()">Plus de détails</button>
                                  <button type="button" class="dropdown-item" onclick="seeStagiairesfi()">Voir la liste des inscrits</button>
                                  <button type="button" class="dropdown-item" onclick="addCommentFI()">Commentaire convocation</button>
                                </div>
                              </div>
                            </td>
                          </tr>


                          <tr>
                            <td> EC140100</td>
                            <td> Préparation pour formation complémentaire ACDV

                            </td>
                            <td> NVT0000812</td>
                            <td> Saint-Priest	</td>
                            <td> 15/01/2022</td>
                            <td> 19/06/2021</td>
                            <td> Circulation</td>
                            <td> 4/4</td>
                            <td> LY AMV5 01/22 OP	</td>
                            <td> 1</td>
                            <td> Initiale</td>
                            <td> 
                              <i class="icons-checked icons-size-1x25 greenicon" aria-hidden="true" onclick="changeicon('18')" id="icon18"></i>

                          </td>
                            <td>
                              <div class="btn-group dropdown">
                                <button class="btn btn-only-icon btn-transparent btn-color-gray"  id="btncofo" aria-controls="toggle1" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                  <span class="sr-only">Actions</span>
                                  <i class="icons-options icons-size-1x25" aria-hidden="true"></i>
                                </button>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="btncofo" id="toggle1">
                                  <button type="button" class="dropdown-item">Plus de détails</button>
                                  <button type="button" class="dropdown-item">Voir la liste des inscrits</button>
                                  <button type="button" class="dropdown-item">Commentaire convocation</button>
                                </div>
                              </div>
                            </td>
                          </tr>

                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
            </div>
    </div>

    <div id="footercofo5"></div>
    <script src="bootstrap-sncf.metier.v4.3.1-r5/bootstrap-sncf.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js" ></script>
    <script src="https://cdn.datatables.net/buttons/1.6.5/js/dataTables.buttons.min.js" ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js" ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js" ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js" ></script>
    <script src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.html5.min.js" ></script>
    <script src="https://cdn.datatables.net/searchpanes/1.2.1/js/dataTables.searchPanes.min.js"></script>
    <script src="https://cdn.datatables.net/select/1.3.1/js/dataTables.select.min.js"></script>
    <script src="script.js"></script>

    <script>
      $(function(){
        $("#includedContentAC7").load("navcofo.html");
        $("#footercofo5").load("footer.html"); 

      });
      
      
      $(document).ready(function() {
      var table = $('#sessionscofo').DataTable({
        dom: 'BPfrtip',
        "pagingType": "full_numbers",
        "initComplete": function() {
          $('.dataTables_filter input').addClass('form-control');
        },
        columnDefs:[
            {
                searchPanes:{
                    show: true, // It can be true/false
                },
                targets: [0,1,2,3,4,5], // Index of columns (starting at 0) that you want show/hide                
            },
            { width: "30%", targets: 1 },
            {
      orderable: false,
      targets: "no-sort"
    }
        ],
        lengthMenu: [
          [10, 25, 50, 100],
          [ '10 ', '25 ', '50 ', '100 ']
        ],
        buttons: [
          //'searchPanes',
            {
              extend : 'pageLength',
              className : 'btn btn-success mt-1 btnnopad',
              
            },
            {
              text: 'Filtres avancés',
              className: 'btn btn-primary btnnopad',
              action: function (e, dt, node, config) {
                  $(".dtsp-panesContainer").toggle()
              },
              init: function( api, node, config) {
                  $(node).removeClass('dt-button')
              }
            },
            {
              extend : 'copyHtml5',
              text : 'Copier',
              copyTitle: 'Données copiées',
              className : 'btn btn-warning btnnopad',
              exportOptions: {
                  columns: [ 0,1,2,3,4,5,6,7,8,9,10]
                },
                init: function( api, node, config) {
                  $(node).removeClass('dt-button buttons-copy buttons-html5')
              }
            },
            {
              extend : 'excelHtml5',
              className : 'btn btn-success btnnopad',
              title : 'Export sessions formations continues du '+titleFile(),
              filename : function() {
                return "Export_SessionsFC_"+dateFile()
              },
              exportOptions: {
                columns: [ 0,1,2,3,4,5,6,7,8,9,10]
                },
                init: function( api, node, config) {
                  $(node).removeClass('dt-button buttons-excel buttons-html5')
              }
            },
            {
              extend : 'csvHtml5',
              className : 'btn btn-success btnnopad',
              filename : function() {
                return "Export_SessionsFC_"+dateFile()
              },
              exportOptions: {
                columns: [ 0,1,2,3,4,5,6,7,8,9,10]
                },
                init: function( api, node, config) {
                  $(node).removeClass('dt-button buttons-csv buttons-html5')
                }

            },
            {
                extend: 'pdfHtml5',
                orientation: 'landscape',
                pageSize : 'LEGAL',
                title : 'Export sessions formations continues du '+titleFile(),
                filename : function() {
                  return "Export_SessionsFC_"+dateFile()
                },
                exportOptions: {
                  columns: [ 0,1,2,3,4,5,6,7,8,9,10]
                },
                customize: function (doc) {
                  doc.content[1].table.widths = 
                      Array(doc.content[1].table.body[0].length + 1).join('*').split('');
                  doc.styles.tableBodyEven.alignment = 'center';
                  doc.styles.tableBodyOdd.alignment = 'center'; 
                },
                className : 'btn btn-primary btnnopad',
                init: function( api, node, config) {
                  $(node).removeClass('dt-button buttons-pdf buttons-html5')
                }
            }
        ],
        "language": {
            "url": "//cdn.datatables.net/plug-ins/1.10.22/i18n/French.json",
            searchPanes: {
                collapse: "Afficher les filtres",
                title : {
                  _: '%d - Filtres sélectionnés',
                  0 : 'Aucun filtres sélectionnés'
                },
                clearMessage : 'Réinitialisé'
            },
            buttons : {
              pageLength: {
                _: "%d éléments par page",
                '-1': "Tout afficher"
              },
              copy: 'Copier',
            copySuccess: {
                1: "Copie d'une ligne",
                _: "Copie de %d lignes"
            },
            copyTitle: 'Données copiées',
            copyKeys: 'Press <i>ctrl</i> or <i>\u2318</i> + <i>C</i> to copy the table data<br>to your system clipboard.<br><br>To cancel, click this message or press escape.'

            ,
       
            },
        }
      });
      $('#sessionscofo thead th').addClass('text-white');
      })

      function seeStagiaires(){
          var array = window.location.href.split("/");
          array[array.length-1]="suiviglobalcofo.html";
         window.open(array.join("/"));
      }

      function seeDetails(){
        var array = window.location.href.split("/");
        array[array.length-1]="detailsSessionsCOFO.html";
       window.open(array.join("/"));
      }

      function addComment(){
        var array = window.location.href.split("/");
        array[array.length-1]="addCommentCofo.html";
       window.open(array.join("/"));
      }

      function addCommentFI(){
        var array = window.location.href.split("/");
        array[array.length-1]="addCommentCofoFI.html";
       window.open(array.join("/"));
      }

      function seeStagiairesfi(){
          var array = window.location.href.split("/");
          array[array.length-1]="suiviglobalcofo.html";
         window.open(array.join("/"));
      }

      function seeDetailsfi(){
        var array = window.location.href.split("/");
        array[array.length-1]="detailsSessionsCOFOfi.html";
       window.open(array.join("/"));
      }

      function changeicon(x){
            var elt = document.getElementById("icon"+x);
            if(elt.className.includes("check")){
            elt.classList.remove("icons-checked");
            elt.classList.remove("greenicon");
            elt.classList.add("icons-close");
            elt.classList.add("redicon");

            }
            else{
            elt.classList.add("icons-checked");
            elt.classList.add("greenicon");
            elt.classList.remove("icons-close");
            elt.classList.remove("redicon");
            }
        }
    </script>
</body>
</html>